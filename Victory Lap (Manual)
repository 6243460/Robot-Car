// Pin Definitions
const int AIN = 7;  // Motor A direction
const int PWMA = 5;  // Motor A speed (PWM)
const int BIN = 8;  // Motor B direction
const int PWMB = 6;  // Motor B speed (PWM)
const int STBY = 3;  // Standby pin 

int Speed = 100;  // Initial speed of the car (range: 0 to 255)

// Function Movement
void Forward();
void Stop();
void Left();


void setup() {
  // Initialize all pins as OUTPUT
  pinMode(AIN, OUTPUT);
  pinMode(PWMA, OUTPUT);
  pinMode(BIN, OUTPUT);
  pinMode(PWMB, OUTPUT);
  pinMode(STBY, OUTPUT);
}

void loop() {
  Forward();   
  delay(8000);
  Left();
  delay(2000); 

  Forward();   
  delay(4000);
  Left();
  delay(2000); 

  Forward();   
  delay(8000);
  Left();
  delay(2000); 

  Forward();   
  delay(4000);
  Left();
  delay(2000); 

  Forward();   
  delay(2000);
  Stop();
  delay(10000);
}


void Forward() {  // Move forward
  digitalWrite(AIN, HIGH);     // Motor A direction (forward)
  analogWrite(PWMA, Speed);    // Motor A speed (set speed)
  digitalWrite(BIN, HIGH);     // Motor B direction (forward)
  analogWrite(PWMB, Speed);    // Motor B speed (set speed)
  digitalWrite(STBY, HIGH);    // Enable car (turn on motors)
}

void Stop() { // Stop motors
  digitalWrite(AIN, LOW);      // Motor A direction (stop)
  analogWrite(PWMA, 0);        // Motor A speed (stop)
  digitalWrite(BIN, LOW);      // Motor B direction (stop)
  analogWrite(PWMB, 0);        // Motor B speed (stop)
  digitalWrite(STBY, LOW);     // Disable car (turn off motors)
}


void Left() { // Turn left
  digitalWrite(AIN, HIGH);     // Motor A direction (forward)
  analogWrite(PWMA, Speed);    // Motor A speed (set speed)
  digitalWrite(BIN, LOW);      // Motor B direction (backward)
  analogWrite(PWMB, Speed / 2); // Motor B speed (set speed)
  digitalWrite(STBY, HIGH);    // Enable car (turn on motors)
}
